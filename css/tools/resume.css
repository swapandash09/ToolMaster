/* =========================================
   RESUME STUDIO - TITANIUM V65 BORDER EDITION
   ========================================= */

/* --- 1. WORKSPACE LAYOUT --- */
.split-view {
    display: flex; gap: 30px;
    height: calc(100vh - 180px);
    overflow: hidden; padding-bottom: 20px;
}

.editor-panel {
    flex: 1; overflow-y: auto; padding-right: 15px; min-width: 350px;
    scrollbar-width: thin; scrollbar-color: var(--border) transparent;
}

.preview-panel {
    flex: 1.3; background: #18181b; 
    border-radius: 16px; border: 1px solid var(--border);
    display: flex; justify-content: center; align-items: flex-start;
    overflow: hidden; position: relative;
    box-shadow: inset 0 0 100px rgba(0,0,0,0.9);
    background-image: radial-gradient(#3f3f46 1px, transparent 1px);
    background-size: 20px 20px;
}

#scale-wrapper {
    transform-origin: top center; padding: 60px 0;
    width: 100%; height: 100%; overflow-y: auto;
    display: flex; justify-content: center;
}

/* --- 2. CONTROLS --- */
.input-group {
    background: var(--card); border: 1px solid var(--border);
    padding: 24px; border-radius: 12px; margin-bottom: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.group-title {
    font-size: 0.75rem; font-weight: 800; text-transform: uppercase;
    color: var(--text-muted); margin-bottom: 15px; letter-spacing: 1px;
    border-bottom: 1px solid var(--border); padding-bottom: 8px;
}
.input-grid { display: flex; gap: 15px; }

/* THEME PICKER */
.theme-picker { display: flex; gap: 10px; margin-bottom: 20px; }
.theme-dot {
    width: 30px; height: 30px; border-radius: 50%;
    cursor: pointer; border: 2px solid var(--border);
    transition: transform 0.2s;
}
.theme-dot:hover { transform: scale(1.1); }
.theme-dot.active { border-color: white; transform: scale(1.15); }

/* --- 3. RESUME PAPER (WITH BORDER) --- */
.resume-paper {
    width: 794px; min-height: 1123px;
    background: white; color: #1f2937;
    display: flex; position: relative;
    box-shadow: 0 30px 80px rgba(0,0,0,0.6);
    font-family: 'Outfit', sans-serif;
    transform: translateZ(0); overflow: hidden;
    
    /* âš¡ NEW: PAGE BORDER */
    border: 1px solid #e5e7eb; /* Outer thin line */
    outline: 10px solid white; /* Spacing */
    outline-offset: -20px; /* Inset Border */
}

/* Inner Border Effect (The Colored Line) */
.resume-paper::after {
    content: ''; position: absolute;
    top: 20px; left: 20px; right: 20px; bottom: 20px;
    border: 2px solid var(--primary-theme); /* Dynamic Color */
    pointer-events: none; z-index: 50;
    opacity: 0.6;
}

/* --- SIDEBAR --- */
.paper-sidebar {
    width: 34%; background: var(--sidebar-bg);
    padding: 60px 30px 50px 40px; /* Adjusted padding for border */
    border-right: 1px solid rgba(0,0,0,0.05);
    text-align: left; position: relative; z-index: 2;
}

#res-photo-container {
    width: 140px; height: 140px; margin: 0 auto 40px;
    border-radius: 50%; overflow: hidden;
    border: 4px solid white;
    box-shadow: 0 15px 35px var(--shadow-color);
    position: relative; background: #e2e8f0;
}
#res-photo-img { width: 100%; height: 100%; object-fit: cover; }

.sb-title {
    font-size: 0.85rem; font-weight: 800; text-transform: uppercase;
    color: var(--text-dark); margin-bottom: 15px; letter-spacing: 1.5px;
    display: flex; align-items: center; gap: 10px;
}
.sb-title::after { content: ''; flex: 1; height: 2px; background: var(--primary-theme); opacity: 0.4; }

.sb-section div {
    font-size: 0.85rem; margin-bottom: 14px; color: #475569;
    display: flex; align-items: center; gap: 12px; font-weight: 500;
}
.sb-section i { 
    font-size: 0.9rem; color: white; background: var(--primary-theme);
    width: 26px; height: 26px; border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 4px 10px var(--shadow-color);
}

#res-skills span {
    display: inline-block; background: white; color: var(--text-dark);
    padding: 5px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700;
    border: 1px solid rgba(0,0,0,0.05); margin-right: 5px; margin-bottom: 5px;
}

/* --- MAIN CONTENT --- */
.paper-content { flex: 1; padding: 70px 50px 50px 40px; /* Adjusted for border */ }

#res-name {
    font-size: 3.2rem; font-weight: 800; color: var(--text-dark);
    line-height: 0.9; text-transform: uppercase; letter-spacing: -1.5px;
    margin-bottom: 8px;
}
#res-title {
    font-size: 1.1rem; color: var(--primary-theme);
    font-weight: 700; letter-spacing: 3px; text-transform: uppercase;
}

.sec-head {
    font-size: 1rem; font-weight: 800; text-transform: uppercase;
    color: var(--text-dark); margin-bottom: 20px;
    display: flex; align-items: center; gap: 12px; letter-spacing: 1px;
    margin-top: 40px; border-bottom: 2px solid var(--bg-dim); padding-bottom: 5px;
}

.item-block { 
    margin-bottom: 25px; position: relative; padding-left: 20px; 
    border-left: 3px solid var(--bg-dim);
}
.item-title { font-weight: 800; font-size: 1.15rem; color: var(--text-dark); }
.item-sub { font-size: 0.95rem; color: var(--primary-theme); font-weight: 700; margin-bottom: 6px; display: block; }
.item-date { 
    font-size: 0.75rem; font-weight: 700; color: #94a3b8; 
    background: var(--bg-dim); padding: 2px 8px; border-radius: 4px;
    display: inline-block; margin-bottom: 8px;
}
.item-desc { font-size: 0.92rem; color: #475569; line-height: 1.6; text-align: justify; }

#res-summary {
    font-size: 1rem; line-height: 1.7; color: #334155;
    background: var(--bg-dim); padding: 20px; border-radius: 0 12px 12px 0;
    border-left: 4px solid var(--primary-theme); font-style: italic;
}

/* --- THEMES --- */
.theme-blue { --primary-theme: #2563eb; --text-dark: #0f172a; --sidebar-bg: #eff6ff; --bg-dim: #f1f5f9; --shadow-color: rgba(37,99,235,0.25); }
.theme-green { --primary-theme: #059669; --text-dark: #064e3b; --sidebar-bg: #ecfdf5; --bg-dim: #f0fdf4; --shadow-color: rgba(5,150,105,0.25); }
.theme-purple { --primary-theme: #7c3aed; --text-dark: #2e1065; --sidebar-bg: #f5f3ff; --bg-dim: #fafafe; --shadow-color: rgba(124,58,237,0.25); }
.theme-gold { --primary-theme: #d97706; --text-dark: #451a03; --sidebar-bg: #fffbeb; --bg-dim: #fffdf5; --shadow-color: rgba(217,119,6,0.25); }
.theme-dark { --primary-theme: #1f2937; --text-dark: #000000; --sidebar-bg: #f3f4f6; --bg-dim: #f9fafb; --shadow-color: rgba(0,0,0,0.2); }
.theme-red { --primary-theme: #dc2626; --text-dark: #450a0a; --sidebar-bg: #fef2f2; --bg-dim: #fff1f2; --shadow-color: rgba(220,38,38,0.25); }

/* --- PDF GENERATION FIX --- */
@media print {
    @page { margin: 0; size: A4 portrait; }
    body { margin: 0; padding: 0; }
    .resume-paper {
        width: 100% !important;
        height: 100% !important;
        box-shadow: none !important;
        margin: 0 !important;
    }
}
    /* Hide the inner fake border for clean print */
    .resume-paper::after { display: none; }
}

@media (max-width: 900px) {
    .split-view { flex-direction: column; height: auto; }
    .editor-panel { padding-right: 0; margin-bottom: 40px; }
    .preview-panel { height: 500px; border-radius: 0; }
    #scale-wrapper { transform-origin: top left; transform: scale(0.42); width: 235%; height: 235%; padding: 20px; }
}
