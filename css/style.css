/* =========================================
   TOOLMASTER TITANIUM V39 PRO - FINAL COMPLETE
   ========================================= */
@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

:root {
    /* --- DARK THEME VARIABLES --- */
    --bg: #050507;
    --sidebar: rgba(15, 15, 20, 0.95); /* Fixed opacity for visibility */
    --card: rgba(25, 25, 30, 0.7);
    --card-hover: rgba(40, 40, 45, 0.9);
    --border: rgba(255, 255, 255, 0.1);
    --border-highlight: rgba(255, 255, 255, 0.2);
    --primary: #6366f1;
    --primary-glow: rgba(99, 102, 241, 0.4);
    --accent: #ec4899;
    --text: #ffffff;
    --text-muted: #9ca3af;
    --nav-height: 70px;
    --radius: 18px;
    --ease: cubic-bezier(0.23, 1, 0.32, 1);
}

body.light-mode {
    /* --- LIGHT THEME VARIABLES --- */
    --bg: #f8fafc;
    --sidebar: #ffffff;
    --card: #ffffff;
    --card-hover: #f1f5f9;
    --border: #e2e8f0;
    --border-highlight: #cbd5e1;
    --primary: #4f46e5;
    --text: #0f172a;
    --text-muted: #64748b;
}

/* --- RESET & BASE --- */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Outfit', sans-serif;
    height: 100vh; overflow: hidden;
    transition: background 0.3s ease, color 0.3s ease;
}

/* --- FUNCTIONAL ESSENTIALS (CRITICAL FIXES) --- */
/* 1. Loading Screen Logic */
#loading-overlay {
    position: fixed; inset: 0; background: var(--bg); z-index: 9999;
    display: flex; justify-content: center; align-items: center;
    font-size: 1.5rem; font-weight: 700; color: var(--primary);
    transition: opacity 0.5s ease, visibility 0.5s;
}
#loading-overlay.hidden { opacity: 0; visibility: hidden; }

/* 2. Tool Workspace Logic (Black Screen Fix) */
.tool-workspace {
    display: none; /* By default hidden */
    width: 100%; height: 100%;
    animation: fadeIn 0.4s ease;
}
.tool-workspace.active { display: block; } /* JS adds this to show tool */

/* 3. Toast Notifications */
#toast-container {
    position: fixed; top: 20px; right: 20px; z-index: 10000;
    display: flex; flex-direction: column; gap: 10px; pointer-events: none;
}
.toast {
    background: rgba(20, 20, 25, 0.95); color: white;
    padding: 12px 24px; border-radius: 50px;
    display: flex; align-items: center; gap: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
    min-width: 280px; animation: slideIn 0.3s ease; pointer-events: auto;
}
@keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }

/* --- LAYOUT & DESIGN --- */
.app-container { display: flex; height: 100%; width: 100%; }

/* Sidebar */
.desktop-sidebar {
    width: 280px; background: var(--sidebar);
    border-right: 1px solid var(--border); padding: 24px;
    display: flex; flex-direction: column; z-index: 50;
    transition: background 0.3s ease;
}
.brand-area { display: flex; align-items: center; gap: 12px; margin-bottom: 40px; }
.logo-icon {
    width: 40px; height: 40px; background: linear-gradient(135deg, var(--primary), var(--accent));
    border-radius: 12px; display: grid; place-items: center; color: white;
}

.side-nav li {
    padding: 12px 16px; border-radius: 12px; cursor: pointer;
    color: var(--text-muted); display: flex; align-items: center; gap: 14px;
    margin-bottom: 5px; transition: all 0.2s;
}
.side-nav li:hover, .side-nav li.active {
    background: rgba(99,102,241,0.1); color: var(--primary);
}

/* Content Area */
.content-area { flex: 1; overflow-y: auto; padding: 40px; position: relative; }

/* Dashboard Header */
.dash-hero { margin-bottom: 40px; }
.dash-hero h1 { font-size: 2.5rem; margin-bottom: 20px; font-weight: 800; }

/* Search Bar */
.search-wrapper {
    background: var(--card); border: 1px solid var(--border);
    padding: 14px 20px; border-radius: 50px; display: flex; align-items: center; gap: 12px;
    width: 100%; max-width: 450px; transition: 0.3s;
}
.search-wrapper input { background: transparent; border: none; outline: none; color: var(--text); width: 100%; font-size: 1rem; }

/* Tools Grid */
.tool-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 20px; }

.t-card {
    background: var(--card); border: 1px solid var(--border); padding: 24px;
    border-radius: var(--radius); cursor: pointer; transition: 0.3s;
    display: flex; flex-direction: column; gap: 15px; position: relative;
    backdrop-filter: blur(10px);
}
.t-card:hover {
    transform: translateY(-5px); border-color: var(--primary);
    background: var(--card-hover);
}

.tc-icon {
    width: 50px; height: 50px; border-radius: 14px; display: grid; place-items: center;
    font-size: 1.6rem; color: white;
}

/* Icon Colors */
.c-blue { background: linear-gradient(135deg, #3b82f6, #2563eb); }
.c-purple { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
.c-green { background: linear-gradient(135deg, #10b981, #059669); }
.c-orange { background: linear-gradient(135deg, #f97316, #ea580c); }

/* --- MOBILE RESPONSIVE --- */
.mobile-nav { display: none; }

@media (max-width: 768px) {
    .desktop-sidebar { display: none; }
    .content-area { padding: 20px 20px 100px; }
    .tool-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
    .t-card { padding: 15px; text-align: center; align-items: center; }
    
    .mobile-nav {
        display: flex; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
        width: 90%; height: 65px; background: rgba(20,20,25,0.95);
        backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1);
        border-radius: 50px; justify-content: space-evenly; align-items: center; z-index: 100;
    }
    .nav-item { font-size: 1.5rem; color: var(--text-muted); padding: 10px; }
    .nav-item.active { color: white; }
    .nav-fab {
        width: 55px; height: 55px; background: var(--primary); border-radius: 50%;
        display: grid; place-items: center; color: white; font-size: 1.6rem;
        transform: translateY(-25px); border: 4px solid var(--bg);
    }
}

/* Utilities */
.hidden { display: none !important; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
